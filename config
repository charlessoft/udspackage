#!/bin/bash
source ./error
ENVBASHRC=envbashrc
SSH_PORT=22
TMP_PATH=/home/charles/
ID_RSA_PUB=$HOME/.ssh/id_rsa.pub
LOG_COLLECT=${TMP_PATH}/udslog.log
LOG=${TMP_PATH}/udsinstall.log
LOG_MERGE=${TMP_PATH}/udsmerge.log
UDSPACKAGE_FILE=udspackage
UDSPACKAGE_PATH=${TMP_PATH}/${UDSPACKAGE_FILE}
SUDOERS_PATH=/etc/sudoers

CONTENT_SERVER=10.211.55.18
META_SERVER=10.211.55.21
NAME_SERVER=10.211.55.22

CONTENT_FILE=fs-contentserver
NAME_FILE=fs-nameserver
META_FILE=fs-metaserver

META_SERVER_PARAMS="-Xms2048M -Xmx2048M -Xss512k -XX:PermSize=256M -XX:MaxPermSize=512M"
NAME_SERVER_PARAMS="-Xms2048M -Xmx2048M -Xss512k -XX:PermSize=256M -XX:MaxPermSize=512M"
CONTENT_SERVER_PARAMS="-Xms2048M -Xmx2048M -Xss512k -XX:PermSize=256M -XX:MaxPermSize=512M"

checkfile=( curl \
    vi \
    )

RIAK_RINK=( \
    10.211.55.18 \
    10.211.55.21 \
    10.211.55.22 \
    )
RIAK_FIRST_NODE=${RIAK_RINK[0]}
#1.4.0
RIAK_VMARGS=/etc/riak/vm.args
RIAK_VMARGS_BAK=/etc/riak/vm.args_bak
RIAK_APPCONFIG=/etc/riak/app.config
RIAK_APPCONFIG_BAK=/etc/riak/app.config_bak
#2.0.2
RIAK_CONF_BAK=/etc/riak/riak.conf_bak
RIAK_CONF=/etc/riak/riak.conf
RIAK_HTTP_PORT=8098
#node链接端口
RIAK_EPMD_PORT=4369
RIAK_HANDOFF_PORT=8099

RIAK_DEFPORT=44571


MONGODB_FILE=mongodb-linux-x86_64-2.6.3

#MONGODB MASTER
MONGODB_MASTER=10.211.55.18:27017
MONGODB_MASTER_DBPATH=/home/charles/mongodb/data/master  
MONGODB_MASTER_LOGPATH=/home/charles/mongodb/log/master.log 
MONGODB_MASTER_PIDFILEPATH=/home/charles/mongodb/master.pid

#MONGODB SLAVE
MONGODB_SLAVE=10.211.55.21:27017
MONGODB_SLAVE_DBPATH=/home/charles/mongodb/data/slave
MONGODB_SLAVE_LOGPATH=/home/charles/mongodb/log/slave.log
MONGODB_SLAVE_PIDFILEPATH=/home/charles/mongodb/slave.pid

MONGODB_SLAVE_ARR=( \
    ${MONGODB_SLAVE} \
    ${MONGODB_SLAVE} \
    )

#MONGODB ARIBTER
MONGODB_ARBITER=10.211.55.22:27017
MONGODB_ARBITER_DBPATH=/home/charles/mongodb/data/slave
MONGODB_ARBITER_LOGPATH=/home/charles/mongodb/log/slave.log
MONGODB_ARBITER_PIDFILEPATH=/home/charles/mongodb/slave.pid

#MONGODB SLAVE

ZOOKEEPER_FILE=zookeeper-3.4.6

JDK_FILE=jdk1.6.0_45

RIAK_FILE=riak-2.0.2-1.el5.x86_64.rpm

IPTABLES_FILE=/etc/sysconfig/iptables

#JAVA
JDK_ARR=( \
    10.211.55.18 \
    10.211.55.21 \
    10.211.55.22 \
    )


#ZOOKEEPER
ZOOKEEPER_DATADIR=/home/charles/zookeeper/data
ZOOKEEPER_LOGDIR=/home/charles/zookeeper/data/log
ZOOKEEPER_NODE_ARR=( \
    server.1=10.211.55.18:2888:3888 \
    server.2=10.211.55.21:2888:3888 \
    server.3=10.211.55.22:2888:3888 \
    )


IPTABLES_ACCESS_PORT=( \
    ${RIAK_HTTP_PORT} \
    ${RIAK_EPMD_PORT} \
    ${RIAK_HANDOFF_PORT} \
    ${RIAK_DEFPORT} \
    "`echo ${MONGODB_MASTER} | cut -d: -f 2`" \
    "`echo ${MONGODB_SLAVE} | cut -d: -f 2`" \
    "`echo ${MONGODB_ARBITER} | cut -d: -f 2`" \
    )
